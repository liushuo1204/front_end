<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
<script>
    // await 必须应用在async修饰的函数里  await会等待Promise完成，相当于转成一个同步的操作，直接获取resolve里的东西
    // async await ====》 消除回调 .then， 更加优雅的表达Promise
    async function method() {
        const n = await Promise.resolve(1)
        console.log(n)
    }

    method()


    //
    function speed() {
        return new Promise((resolve, reject) => {
            if (Math.random() < 1) {
                resolve("成功")
            } else {
                reject("失败")
            }
        })
    }

    async function method2() {
        // speed().then()
        const s = await speed()
        console.log(s)
    }

    method2()


    // 如果需要处理异常  使用try-catch
    async function method3() {
        try {
            const ss = await speed()
            console.log(ss)
        } catch (err) {
            console.log(err)
        }
    }

    method3()


</script>
</body>
</html>